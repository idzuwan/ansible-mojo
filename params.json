{
  "name": "ansible-mojo",
  "tagline": "A simple demo of Ansible playbook operations",
  "body": "For a more in-depth discussion, check out this [blog post](https://randops.org/2016/10/26/ansible-shenanigans-part-i/).\r\n\r\n## Installation\r\n\r\n* Clone this repo down to the system you'll be running Ansible from and make it your working directory\r\n```bash\r\n$ cd $HOME/code\r\n$ git clone https://github.com/rcrelia/ansible-mojo.git\r\n$ cd ansible-mojo\r\n```\r\n* Create a symlink from /etc/ansible to $HOME/code/ansible-mojo\r\n```bash\r\n$ sudo ln -s /etc/ansible $HOME/code/ansible-mojo\r\n```\r\n* Create a Vagrant VM using the image bento/xenial64 and VirtualBox as your provider\r\n```bash\r\n$ mkdir ~/vagrant-boxes/bento_ubuntu\r\n$ cd ~/vagrant-boxes/bento_ubuntu\r\n$ vagrant init bento/ubuntu-16.04; vagrant up --provider virtualbox\r\n```\r\n* Configure the VM to be accessible via host lookups on your machine (e.g., add it to your /etc/hosts)\r\n* Add the vagrant user's private key to your authentication chain/agent for passwordless access to the VM\r\n```bash\r\n$ ssh-add ~/vagrant-boxes/bento_ubuntu/.vagrant/machines/default/virtualbox/private_key\r\n```\r\n* Create a RSA key to use for the ansible SSH user and populate $HOME/code/ansible/authorized_keys with it\r\n```bash\r\n$ ssh-keygen -t rsa -f ~/.ssh/ansible_key\r\n$ cat ~/.ssh/ansible_key > $HOME/code/ansible-mojo/authorized_keys\r\n```\r\n* Add this new RSA key to your authentication chain/agent for passwordless access to the VM as user \"ansible\"\r\n```bash\r\n$ ssh-add ~/.ssh/ansible_key\r\n```\r\n* Install Ansible v2.2.0 from source repo on GitHub\r\n```bash\r\n$ cd $HOME/src\r\n$ git clone -b stable-2.2 git://github.com/ansible/ansible.git --recursive\r\n$ cd ./ansible\r\n$ source ./hacking/env-setup\r\n```\r\n* Add your Vagrant VM host to Ansible's host inventory ($HOME/code/ansible-mojo/hosts)\r\n* Test Ansible operations with your Vagrant VM\r\n```bash\r\n$ ansible yourvmname -m setup -e ansible_ssh_user=vagrant\r\n```\r\n\r\n## Usage\r\n\r\nFirst run:\r\n\r\n```bash\r\n$ ansible-playbook main.yml -e ansible_ssh_user=vagrant\r\n```\r\n\r\nSubsequent runs:\r\n\r\n```bash\r\n$ ansible-playbook main.yml\r\n```\r\n\r\n## Todo\r\n\r\n- Create more distro-agnostic plays (e.g., same play for both CentOS and Ubuntu)\r\n- Roles! Galaxy!\r\n\r\n## Development\r\n\r\nSend edits/ideas to rcrelia.github@gmail.com, or fork the project on GitHub and\r\nsend me a pull request.\r\n\r\n## Authors\r\n\r\nAuthor:: Rick Crelia\r\n\r\n## License\r\n\r\nCopyright:: Copyright (c) 2016 Rick Crelia<br>\r\n\r\nLicense:: Apache License, Version 2.0\r\nLicensed under the Apache License, Version 2.0 (the \"License\");\r\nyou may not use this file except in compliance with the License.\r\nYou may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nUnless required by applicable law or agreed to in writing, software\r\ndistributed under the License is distributed on an \"AS IS\" BASIS,\r\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\nSee the License for the specific language governing permissions and\r\nlimitations under the License.",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}